<section class="aligner">
  <form class="wrapper">

    <div class="input" *ngIf="(server$ | async) || true">
      <label for="server">Server </label>
      <input
        type="text"
        name="server"
        required
        [pattern]="pattern"
        [(ngModel)]="server"
        (ngModelChange)="updateServer()">
    </div>

    <div class="input" *ngIf="(user$ | async) || true">
      <label for="username">Username </label>
      <input
        type="text"
        name="username"
        required
        [(ngModel)]="username"
        (ngModelChange)="updateCredentials()">
    </div>

    <div class="input">
      <label for="password" >Password </label>
      <input
        type="password"
        name="password"
        required [(ngModel)]="password"
        (ngModelChange)="updateCredentials()"
        placeholder="password">
    </div>
    <button (click)="test()">Test connection</button>
    <div>Server connection: {{serverConnection}}</div>
    <app-server-info></app-server-info>
    <app-info-box>
      FYI: We use sentry.io for error monitoring. Don't worry, sensitve data are being scrubbed.
    </app-info-box>
  </form>
</section>
