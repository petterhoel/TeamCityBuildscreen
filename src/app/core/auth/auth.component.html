<section class="aligner">
  <div class="wrapper">

    <div class="input" *ngIf="server$ | async">
      <label for="server">TeamCity server </label>
      <input name="server" [(ngModel)]="server" type="text" (ngModelChange)="updateServer()">
    </div>

    <div class="input" *ngIf="user$ | async">
      <label for="username">Username </label>
      <input type="text" [(ngModel)]="username" (ngModelChange)="updateCredentials()" name="username"
      placeholder="username">
    </div>

    <div class="input">
      <label for="password">Password </label>
      <input type="password" [(ngModel)]="password" (ngModelChange)="updateCredentials()" placeholder="password">
    </div>
    <button (click)="test()">Test connection</button>
    <div>Server connection: {{serverConnection}}</div>
    <app-server-info></app-server-info>
    <app-info-box>
      FYI: We use sentry.io for error monitoring. Sensitve data are scrubbed.
    </app-info-box>
  </div>
</section>
